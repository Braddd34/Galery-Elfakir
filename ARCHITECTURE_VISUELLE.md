# ğŸ¨ Architecture Visuelle
## Galerie ELFAKIR - Diagrammes et SchÃ©mas

---

## ğŸ“Š Vue d'ensemble du systÃ¨me

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         UTILISATEURS                             â”‚
â”‚  ğŸ‘¤ Acheteurs    ğŸ¨ Artistes    ğŸ”§ Administrateurs              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ HTTPS
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     VERCEL EDGE NETWORK                          â”‚
â”‚  ğŸŒ CDN Global Â· âš¡ Edge Functions Â· ğŸ”’ SSL/TLS                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      NEXT.JS APPLICATION                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚ â”‚  Pages (SSR)  â”‚  â”‚  API Routes  â”‚  â”‚  Edge Functions â”‚       â”‚
â”‚ â”‚  - Catalogue  â”‚  â”‚  - Auth      â”‚  â”‚  - Middleware   â”‚       â”‚
â”‚ â”‚  - DÃ©tails    â”‚  â”‚  - Å’uvres    â”‚  â”‚  - Rate Limit   â”‚       â”‚
â”‚ â”‚  - Checkout   â”‚  â”‚  - Stripe    â”‚  â”‚                 â”‚       â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚          â”‚            â”‚              â”‚
     â”‚          â”‚            â”‚              â”‚
     â†“          â†“            â†“              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NEON   â”‚ â”‚STRIPEâ”‚ â”‚VERCEL BLOB â”‚ â”‚   RESEND     â”‚
â”‚ (PostgreSQL) â”‚ (Payment) â”‚ (Images)   â”‚ â”‚   (Emails)   â”‚
â”‚ Databaseâ”‚ â”‚Connectâ”‚ â”‚  Storage   â”‚ â”‚ Transactionalâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ Architecture Next.js en dÃ©tail

```
galery-elfakir/
â”‚
â”œâ”€â”€ ğŸ“± APP (App Router)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸŒ (public)/               Routes publiques (non-auth)
â”‚   â”‚   â”œâ”€â”€ page.tsx               ğŸ  Accueil
â”‚   â”‚   â”œâ”€â”€ catalogue/             ğŸ–¼ï¸  Liste Å“uvres
â”‚   â”‚   â”œâ”€â”€ oeuvre/[slug]/         ğŸ“„ DÃ©tail Å“uvre
â”‚   â”‚   â””â”€â”€ artiste/[id]/          ğŸ‘¨â€ğŸ¨ Profil artiste
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ” (auth)/                 Routes authentification
â”‚   â”‚   â”œâ”€â”€ login/                 ğŸ”‘ Connexion
â”‚   â”‚   â”œâ”€â”€ register/              âœï¸  Inscription
â”‚   â”‚   â””â”€â”€ reset-password/        ğŸ”„ Reset MDP
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“Š (dashboard)/            Routes protÃ©gÃ©es (auth requise)
â”‚   â”‚   â”œâ”€â”€ admin/                 ğŸ”§ Dashboard admin
â”‚   â”‚   â”‚   â”œâ”€â”€ oeuvres/           Gestion Å“uvres
â”‚   â”‚   â”‚   â”œâ”€â”€ artistes/          Gestion artistes
â”‚   â”‚   â”‚   â”œâ”€â”€ commandes/         Gestion commandes
â”‚   â”‚   â”‚   â””â”€â”€ statistiques/      ğŸ“ˆ Stats
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ artiste/               ğŸ¨ Dashboard artiste
â”‚   â”‚   â”‚   â”œâ”€â”€ oeuvres/           Mes Å“uvres
â”‚   â”‚   â”‚   â”œâ”€â”€ ventes/            Mes ventes
â”‚   â”‚   â”‚   â””â”€â”€ revenus/           ğŸ’° Mes revenus
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ acheteur/              ğŸ›ï¸  Dashboard acheteur
â”‚   â”‚       â”œâ”€â”€ commandes/         Mes commandes
â”‚   â”‚       â””â”€â”€ favoris/           â¤ï¸  Mes favoris
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ”Œ api/                    API Routes (Backend)
â”‚   â”‚   â”œâ”€â”€ auth/                  Authentification
â”‚   â”‚   â”‚   â”œâ”€â”€ [...nextauth]/     NextAuth endpoints
â”‚   â”‚   â”‚   â””â”€â”€ register/          Inscription
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ oeuvres/               CRUD Å“uvres
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts           GET (liste) + POST (crÃ©er)
â”‚   â”‚   â”‚   â””â”€â”€ [id]/              GET + PUT + DELETE
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ stripe/                Paiements
â”‚   â”‚   â”‚   â”œâ”€â”€ webhook/           Webhooks Stripe
â”‚   â”‚   â”‚   â””â”€â”€ connect/           Stripe Connect
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ upload/                Upload images
â”‚   â”‚       â””â”€â”€ route.ts           POST (upload)
â”‚   â”‚
â”‚   â”œâ”€â”€ layout.tsx                 Layout global
â”‚   â”œâ”€â”€ manifest.ts                PWA Manifest
â”‚   â””â”€â”€ sitemap.ts                 SEO Sitemap
â”‚
â”œâ”€â”€ ğŸ§© COMPONENTS                  Composants rÃ©utilisables
â”‚   â”œâ”€â”€ ui/                        Composants UI (Shadcn)
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ forms/                     Formulaires
â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â”œâ”€â”€ ArtworkForm.tsx
â”‚   â”‚   â””â”€â”€ CheckoutForm.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ cards/                     Cards mÃ©tier
â”‚   â”‚   â”œâ”€â”€ ArtworkCard.tsx
â”‚   â”‚   â””â”€â”€ ArtistCard.tsx
â”‚   â”‚
â”‚   â””â”€â”€ layouts/                   Layouts spÃ©cifiques
â”‚       â”œâ”€â”€ Header.tsx
â”‚       â”œâ”€â”€ Footer.tsx
â”‚       â””â”€â”€ Sidebar.tsx
â”‚
â”œâ”€â”€ ğŸ“š LIB                         Librairies & Utils
â”‚   â”œâ”€â”€ prisma.ts                  Client Prisma
â”‚   â”œâ”€â”€ auth.ts                    Config NextAuth
â”‚   â”œâ”€â”€ stripe.ts                  Client Stripe
â”‚   â”œâ”€â”€ validations/               SchÃ©mas Zod
â”‚   â””â”€â”€ utils.ts                   Fonctions utiles
â”‚
â”œâ”€â”€ ğŸ—„ï¸  PRISMA                     Base de donnÃ©es
â”‚   â”œâ”€â”€ schema.prisma              SchÃ©ma DB
â”‚   â”œâ”€â”€ migrations/                Migrations
â”‚   â””â”€â”€ seed.ts                    DonnÃ©es initiales
â”‚
â””â”€â”€ ğŸ“§ EMAILS                      Templates emails
    â”œâ”€â”€ welcome.tsx
    â”œâ”€â”€ order-confirmed.tsx
    â””â”€â”€ artwork-sold.tsx
```

---

## ğŸ”„ Flow d'achat complet (Diagramme de sÃ©quence)

```
ğŸ‘¤ ACHETEUR      ğŸŒ NEXT.JS      ğŸ’³ STRIPE      ğŸ—„ï¸  DATABASE      ğŸ¨ ARTISTE
    â”‚                â”‚               â”‚              â”‚               â”‚
    â”‚   Browse       â”‚               â”‚              â”‚               â”‚
    â”‚â”€â”€Catalogueâ”€â”€â”€â”€>â”‚               â”‚              â”‚               â”‚
    â”‚<â”€â”€Å’uvresâ”€â”€â”€â”€â”€â”€â”€â”‚               â”‚              â”‚               â”‚
    â”‚                â”‚               â”‚              â”‚               â”‚
    â”‚  Click Buy     â”‚               â”‚              â”‚               â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚              â”‚               â”‚
    â”‚                â”‚ Create        â”‚              â”‚               â”‚
    â”‚                â”‚ Checkout      â”‚              â”‚               â”‚
    â”‚                â”‚ Session       â”‚              â”‚               â”‚
    â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚              â”‚               â”‚
    â”‚                â”‚<â”€Session URLâ”€â”€â”‚              â”‚               â”‚
    â”‚<â”€Redirectâ”€â”€â”€â”€â”€â”‚               â”‚              â”‚               â”‚
    â”‚                â”‚               â”‚              â”‚               â”‚
    â”‚  Enter Card    â”‚               â”‚              â”‚               â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚              â”‚               â”‚
    â”‚                â”‚               â”‚ Verify       â”‚               â”‚
    â”‚                â”‚               â”‚ 3D Secure    â”‚               â”‚
    â”‚                â”‚               â”‚â”€â”€â”€â”€â”€â”€â”       â”‚               â”‚
    â”‚                â”‚               â”‚      â”‚       â”‚               â”‚
    â”‚                â”‚               â”‚<â”€â”€â”€â”€â”€â”˜       â”‚               â”‚
    â”‚<â”€â”€Successâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚               â”‚
    â”‚                â”‚               â”‚              â”‚               â”‚
    â”‚                â”‚               â”‚ Webhook      â”‚               â”‚
    â”‚                â”‚<â”€â”€paymentâ”€â”€â”€â”€â”€â”‚              â”‚               â”‚
    â”‚                â”‚   succeeded   â”‚              â”‚               â”‚
    â”‚                â”‚               â”‚              â”‚               â”‚
    â”‚                â”‚ Update Order  â”‚              â”‚               â”‚
    â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚
    â”‚                â”‚               â”‚ status=PAID  â”‚               â”‚
    â”‚                â”‚               â”‚              â”‚               â”‚
    â”‚                â”‚ Mark Artwork  â”‚              â”‚               â”‚
    â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚
    â”‚                â”‚               â”‚ status=SOLD  â”‚               â”‚
    â”‚                â”‚               â”‚              â”‚               â”‚
    â”‚                â”‚ Transfer to   â”‚              â”‚               â”‚
    â”‚                â”‚ Artist        â”‚              â”‚               â”‚
    â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚              â”‚               â”‚
    â”‚                â”‚               â”‚ (70% price)  â”‚               â”‚
    â”‚                â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                â”‚               â”‚              â”‚  ğŸ’° Paiement  â”‚
    â”‚                â”‚               â”‚              â”‚               â”‚
    â”‚                â”‚ Send Emails   â”‚              â”‚               â”‚
    â”‚<â”€Confirmationâ”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚  Email         â”‚               â”‚              â”‚  Notification â”‚
    â”‚                â”‚               â”‚              â”‚  Vente        â”‚
```

---

## ğŸ—ƒï¸ SchÃ©ma de base de donnÃ©es (Relations)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     USER     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id           â”‚â—„â”€â”€â”€â”€â”€â”€â”
â”‚ email        â”‚       â”‚
â”‚ password     â”‚       â”‚
â”‚ role         â”‚       â”‚
â”‚ status       â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
       â”‚               â”‚
       â”‚ 1:1           â”‚ 1:N
       â”‚               â”‚
       â†“               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ARTIST_PROFILE   â”‚   â”‚     â”‚    ORDER     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   â”‚     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ userId           â”‚â”€â”€â”€â”˜     â”‚ userId       â”‚
â”‚ bio              â”‚         â”‚ total        â”‚
â”‚ stripeAccountId  â”‚         â”‚ status       â”‚
â”‚ commissionRate   â”‚         â”‚ paidAt       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                          â”‚
         â”‚ 1:N                      â”‚ 1:1
         â”‚                          â”‚
         â†“                          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ARTWORK   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   (link)   â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ artistId   â”‚
    â”‚ title      â”‚
    â”‚ price      â”‚
    â”‚ status     â”‚â”€â”€â”€â”€â”
    â”‚ images     â”‚    â”‚
    â”‚ soldAt     â”‚    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜    â”‚ 1:N
             â”‚        â”‚
             â”‚ N:M    â”‚
             â”‚        â†“
             â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚   â”‚   FAVORITE   â”‚
             â”‚   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
             â””â”€â”€â–ºâ”‚ userId       â”‚
                 â”‚ artworkId    â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

LÃ‰GENDE :
â—„â”€â”€â”€â”€ Relation
1:1   Un Ã  un
1:N   Un Ã  plusieurs
N:M   Plusieurs Ã  plusieurs
```

---

## ğŸ” SystÃ¨me d'authentification (NextAuth)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AUTHENTIFICATION FLOW                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£  LOGIN (Email/Password)
   â”‚
   â”‚  Email + Password
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Credentials   â”‚  â†’ VÃ©rifier email existe
â”‚   Provider      â”‚  â†’ VÃ©rifier password (bcrypt)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†’ VÃ©rifier status actif
         â”‚
         â†“  âœ… Valid
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   JWT Token     â”‚  â†’ GÃ©nÃ©ration token JWT
â”‚   Generation    â”‚  â†’ Contient : userId, role
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Session       â”‚  â†’ Session stockÃ©e (DB ou JWT)
â”‚   Creation      â”‚  â†’ Cookie httpOnly sÃ©curisÃ©
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2ï¸âƒ£  LOGIN (Google OAuth)
   â”‚
   â”‚  Click "Google"
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Redirect to   â”‚  â†’ Redirection Google
â”‚   Google        â”‚  â†’ User approuve
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“  Callback
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Create or     â”‚  â†’ Si email existe : login
â”‚   Link Account  â”‚  â†’ Sinon : crÃ©er user + link
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Session       â”‚  â†’ Session crÃ©Ã©e
â”‚   Creation      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


3ï¸âƒ£  MAGIC LINK (sans mot de passe)
   â”‚
   â”‚  Email only
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Generate      â”‚  â†’ Token unique + expiration
â”‚   Token         â”‚  â†’ StockÃ© en DB
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Send Email    â”‚  â†’ Email avec lien magique
â”‚   with Link     â”‚  â†’ https://site.com/auth?token=xxx
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“  Click link
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Verify Token  â”‚  â†’ VÃ©rifier token valide
â”‚                 â”‚  â†’ VÃ©rifier pas expirÃ©
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“  âœ… Valid
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Session       â”‚  â†’ Session crÃ©Ã©e
â”‚   Creation      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’³ Architecture Stripe (Paiements)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     STRIPE ARCHITECTURE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         GALERIE (Platform)
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ Stripe       â”‚
                         â”‚ Account      â”‚
                         â”‚ (Main)       â”‚
                         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚           â”‚           â”‚
                    â†“           â†“           â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Artist 1  â”‚ â”‚Artist 2 â”‚ â”‚Artist 3 â”‚
            â”‚ Connected â”‚ â”‚Connectedâ”‚ â”‚Connectedâ”‚
            â”‚ Account   â”‚ â”‚Account  â”‚ â”‚Account  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


FLOW DE PAIEMENT :

1ï¸âƒ£  Achat Å“uvre
    â”‚
    â”‚  1000â‚¬
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Stripe Checkoutâ”‚  â†’ Checkout Session
â”‚ (Hosted)       â”‚  â†’ 3D Secure activÃ©
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†’ Customer input carte
        â”‚
        â”‚  ğŸ’³ Paiement
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Platform       â”‚  â†’ ReÃ§oit 1000â‚¬
â”‚ Account        â”‚  â†’ Commission : 300â‚¬ (30%)
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†’ Artist payout : 700â‚¬ (70%)
        â”‚
        â”‚  Automatic Transfer
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Artist         â”‚  â†’ ReÃ§oit 700â‚¬
â”‚ Connected      â”‚  â†’ Automatique (Stripe Connect)
â”‚ Account        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


WEBHOOKS (Ã‰vÃ©nements) :

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ checkout.session â”‚  â†’ Paiement initiÃ©
â”‚    .completed    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ payment_intent   â”‚  â†’ Paiement rÃ©ussi
â”‚    .succeeded    â”‚  â†’ DÃ©clenche :
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â€¢ Mise Ã  jour ordre
         â”‚               â€¢ Marquer Å“uvre vendue
         â†“               â€¢ Transfert artiste
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â€¢ Emails
â”‚ transfer.created â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


SÃ‰CURITÃ‰ :

âœ… 3D Secure (SCA)
âœ… Webhook signature verification
âœ… HTTPS only
âœ… PCI DSS compliant (gÃ©rÃ© par Stripe)
```

---

## ğŸ“± Architecture PWA (Progressive Web App)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PWA LAYERS                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           USER INTERFACE                â”‚  â† React Components
â”‚        (Next.js App Router)             â”‚  â† Tailwind CSS
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â† Responsive Design
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         SERVICE WORKER                  â”‚  â† Cache Strategy
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â† Offline Support
â”‚  â”‚  Cache-First (Images, Fonts)     â”‚   â”‚  â† Background Sync
â”‚  â”‚  Network-First (API, Pages)      â”‚   â”‚  â† Push Notifications
â”‚  â”‚  Stale-While-Revalidate (Static) â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         MANIFEST.JSON                   â”‚  â† App Info
â”‚  â€¢ name, icons, theme                  â”‚  â† Icons (192, 512)
â”‚  â€¢ display: standalone                 â”‚  â† Splash Screens
â”‚  â€¢ start_url: /                        â”‚  â† Shortcuts
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


STRATÃ‰GIES DE CACHE :

ğŸ“¸ IMAGES (Cache-First)
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  Hit   â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cache  â”‚â”€â”€â”€â”€â”€â”€â”€>â”‚ Serve â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ Miss
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Network â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â†“ Store in cache
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cache  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸŒ API (Network-First)
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  Success â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚Network â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ Serve â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ Fail
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  Hit   â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cache  â”‚â”€â”€â”€â”€â”€â”€â”€>â”‚ Serve â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”˜


INSTALLATION :

Desktop:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Browser        â”‚  â†’ Affiche prompt
â”‚  "Install App"  â”‚  â†’ User clique
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†’ App installÃ©e
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Desktop Icon   â”‚  â†’ Standalone window
â”‚  + Dock/Taskbar â”‚  â†’ Native-like
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Mobile (iOS):
Safari â†’ Share â†’ Add to Home Screen

Mobile (Android):
Chrome â†’ Menu â†’ Install App
```

---

## ğŸ”’ SÃ©curitÃ© Multi-Couches

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SECURITY LAYERS                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£  TRANSPORT LAYER
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ HTTPS/TLS   â”‚  â†’ Encryption SSL
    â”‚ (Vercel)    â”‚  â†’ Certificate auto
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2ï¸âƒ£  NETWORK LAYER
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Vercel WAF  â”‚  â†’ DDoS Protection
    â”‚ Edge        â”‚  â†’ Rate Limiting
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3ï¸âƒ£  APPLICATION LAYER
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Next.js     â”‚  â†’ Middleware protection
    â”‚ Middleware  â”‚  â†’ CSRF tokens
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†’ XSS prevention

4ï¸âƒ£  AUTHENTICATION LAYER
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ NextAuth    â”‚  â†’ JWT secure
    â”‚             â”‚  â†’ Session management
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†’ Role-based access

5ï¸âƒ£  DATA LAYER
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Prisma      â”‚  â†’ SQL injection proof
    â”‚             â”‚  â†’ Prepared statements
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†’ Data validation (Zod)

6ï¸âƒ£  STORAGE LAYER
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Database    â”‚  â†’ Encrypted at rest
    â”‚ (Neon)      â”‚  â†’ Encrypted in transit
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â†’ Backups automatic


PROTECTION CONTRE :

âŒ SQL Injection   â†’ âœ… Prisma ORM
âŒ XSS             â†’ âœ… React auto-escape + sanitization
âŒ CSRF            â†’ âœ… NextAuth tokens
âŒ DDoS            â†’ âœ… Vercel Edge + Rate Limiting
âŒ Brute Force     â†’ âœ… Rate Limiting + Account lockout
âŒ Man-in-Middle   â†’ âœ… HTTPS/TLS
```

---

## ğŸ“Š Performance Optimization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PERFORMANCE STACK                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸŒ CDN LAYER (Vercel Edge)
   â”œâ”€ 100+ Global Locations
   â”œâ”€ Edge Caching
   â””â”€ Smart Routing

âš¡ BUILD TIME
   â”œâ”€ Static Generation (SSG)
   â”‚  â””â”€ Pre-render at build : homepage, legal pages
   â”œâ”€ Incremental Static Regeneration (ISR)
   â”‚  â””â”€ Revalidate : catalogue (60s), artwork (30s)
   â””â”€ Server-Side Rendering (SSR)
      â””â”€ Dynamic : dashboard, checkout

ğŸ¨ FRONTEND
   â”œâ”€ Next/Image
   â”‚  â”œâ”€ Automatic WebP/AVIF
   â”‚  â”œâ”€ Responsive images
   â”‚  â””â”€ Lazy loading
   â”œâ”€ Code Splitting
   â”‚  â””â”€ Automatic by route
   â”œâ”€ React Compiler
   â”‚  â””â”€ Automatic memoization
   â””â”€ Tailwind CSS
      â””â”€ Purge unused (< 10kb)

ğŸ—„ï¸  DATABASE
   â”œâ”€ Connection Pooling (PgBouncer)
   â”œâ”€ Indexes optimized
   â””â”€ Query optimization (Prisma)

ğŸ’¾ CACHING
   â”œâ”€ Browser Cache
   â”‚  â””â”€ Static assets : 1 year
   â”œâ”€ CDN Cache
   â”‚  â””â”€ Pages : 60s-300s
   â””â”€ API Cache
      â””â”€ GET requests : 30s


METRICS GOALS :

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Core Web Vitals              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LCP (Loading)      < 2.5s âœ… â”‚
â”‚ FID (Interactivity)< 100msâœ… â”‚
â”‚ CLS (Stability)    < 0.1  âœ… â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Lighthouse Score             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Performance        > 90   âœ… â”‚
â”‚ Accessibility      > 95   âœ… â”‚
â”‚ Best Practices     > 95   âœ… â”‚
â”‚ SEO                > 95   âœ… â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ RÃ©sumÃ© Visuel

```
        ğŸ¨ GALERIE ELFAKIR ğŸ¨
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          â”‚          â”‚
    â†“          â†“          â†“
  ğŸ‘¤ BUYERS  ğŸ¨ ARTISTS ğŸ”§ ADMIN
    â”‚          â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚          â”‚          â”‚
    â†“          â†“          â†“
  Browse    Create    Manage
  Artworks  Artworks  Platform
    â”‚          â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Next.js  â”‚
        â”‚ Vercel   â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚         â”‚
    â†“         â†“         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DB   â”‚ â”‚Stripeâ”‚ â”‚ Blob   â”‚
â”‚ Neon  â”‚ â”‚      â”‚ â”‚ Images â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STACK :
âœ… Next.js 15
âœ… TypeScript
âœ… Prisma + PostgreSQL
âœ… NextAuth
âœ… Stripe
âœ… Vercel
âœ… PWA Ready
```

---

## ğŸ“š LÃ©gende

```
SYMBOLES UTILISÃ‰S :

â”‚  Ligne verticale (connexion)
â”œâ”€ Branche (embranchement)
â””â”€ Fin de branche
â”Œâ”€ Coin haut-gauche
â”  Coin haut-droit
â””â”€ Coin bas-gauche
â”˜  Coin bas-droit
â†“  Flux descendant
â†’  Flux horizontal
â—„  Relation base de donnÃ©es
âœ… Validation/OK
âŒ Interdiction/Erreur
ğŸ¨ Art/Artiste
ğŸ‘¤ Utilisateur
ğŸ”§ Admin
ğŸ’³ Paiement
ğŸ—„ï¸  Base de donnÃ©es
ğŸ“§ Email
ğŸŒ Web/Internet
ğŸ” SÃ©curitÃ©
âš¡ Performance
ğŸ“± Mobile
```

---

**Architecture conÃ§ue pour Ãªtre :**
- ğŸš€ **Performante** : CDN + Edge + Cache
- ğŸ”’ **SÃ©curisÃ©e** : Multi-couches
- ğŸ“± **Mobile-First** : PWA + Responsive
- â™¿ **Accessible** : WCAG 2.1 AA
- ğŸŒ **Scalable** : Serverless + Auto-scaling

---

## ğŸ“ Pour aller plus loin

Ces diagrammes sont des **simplifications** de l'architecture rÃ©elle. Pour comprendre en dÃ©tail :

1. **[ARCHITECTURE.md](./ARCHITECTURE.md)** - Architecture technique complÃ¨te
2. **[DATABASE_SCHEMA.md](./DATABASE_SCHEMA.md)** - SchÃ©ma DB dÃ©taillÃ©
3. **[FLOWS_METIER.md](./FLOWS_METIER.md)** - Flows avec code
4. **[PWA_CONFIGURATION.md](./PWA_CONFIGURATION.md)** - Config PWA

**Bonne lecture ! ğŸ“–**
